!function(e){e.fn.extend(e.easing,{def:"easeInOutExpo",easeInOutExpo:function(e,n,t,i,o){return 0===n?t:n===o?t+i:(n/=o/2)<1?i/2*Math.pow(2,10*(n-1))+t:i/2*(2-Math.pow(2,-10*--n))+t}}),e.fn.gridderExpander=function(n){var t=e.extend({},e.fn.gridderExpander.defaults,n);return this.each(function(){var n,i=e(this),o=!1;function d(n){t.scroll&&e("html, body").animate({scrollTop:n.find(".selectedItem").offset().top-t.scrollOffset},{duration:100,easing:t.animationEasing}),i.removeClass("hasSelectedItem"),o=!1,n.find(".selectedItem").removeClass("selectedItem"),n.find(".gridder-show").slideUp(t.animationSpeed,t.animationEasing,function(){n.find(".gridder-show").remove(),t.onClosed(n)})}function a(i,d){var a='<div class="gridder-padding">';if(t.showNav){e(".selectedItem").prev(),e(".selectedItem").next().next();a+='<div class="gridder-navigation">',a+='<a href="#" class="gridder-close">'+t.closeText+"</a>",a+="</div>"}if(a+='<div class="gridder-expanded-content">',a+=d,a+="</div>",a+="</div>",o?(n.html(a),n.find(".gridder-padding").fadeIn(t.animationSpeed,t.animationEasing,function(){o=!0,e.isFunction(t.onContent)&&t.onContent(n)})):n.hide().append(a).slideDown(t.animationSpeed,t.animationEasing,function(){o=!0,e.isFunction(t.onContent)&&t.onContent(n)}),t.scroll){var s="panel"===t.scrollTo?i.offset().top+i.height()-t.scrollOffset:i.offset().top-t.scrollOffset;e("html, body").animate({scrollTop:s},{duration:t.animationSpeed,easing:t.animationEasing})}n.removeClass("loading")}t.onStart(i),i.find(".gridder-list").on("click",function(t){t.preventDefault(),function(t){if(t.hasClass("selectedItem"))d(i);else{i.find(".selectedItem").removeClass("selectedItem"),t.addClass("selectedItem"),i.find(".gridder-show").remove(),i.hasClass("hasSelectedItem")||i.addClass("hasSelectedItem");var o=e('<div class="gridder-show loading"></div>');n=o.insertAfter(t);var s="";0===t.data("griddercontent").indexOf("#")?(s=e(t.data("griddercontent")).html(),a(t,s)):e.ajax({type:"POST",url:t.data("griddercontent"),success:function(e){a(t,s=e)},error:function(e){s=e.responseText,a(t,s)}})}}(e(this))}),i.on("click",".gridder-nav.next",function(n){n.preventDefault(),e(this).parents(".gridder-show").next().trigger("click")}),i.on("click",".gridder-nav.prev",function(n){n.preventDefault(),e(this).parents(".gridder-show").prev().prev().trigger("click")}),i.on("click",".gridder-close",function(e){e.preventDefault(),d(i)})})},e.fn.gridderExpander.defaults={scroll:!0,scrollOffset:200,scrollTo:"panel",animationSpeed:1e3,animationEasing:"easeInOutExpo",showNav:!0,nextText:"Next",prevText:"Previous",closeText:"",onStart:function(){},onContent:function(){},onClosed:function(){}}}(jQuery);